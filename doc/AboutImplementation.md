Пользователь может пользоваться несколькими складами.
Браузер каждый раз при загрузке скачивает список складов, доступных пользователю.
Текущий склад по умолчанию -- первый в списке
Пользователь может указать порядок складов в приложении.
Список будет отсортирован в указанном пользователем порядке.
Далее браузер запрашивает список запчастей и коробок для текущего склада.
Если пользователь выбрал другой склад, то запчасти и коробки запрашиваются заново.
При добавлении запчасти или коробки также указывается склад.
Приложение должно проверять, что текущий пользователь имеет права на работу с данным складом.

В один момент времени пользователь работает только с одним складом
Текущий выбранный склад меняет тему оформления всего приложения
	Например, склад Ресета задаёт желто-белую тему
	А склад Гаранта зелёно-чёрную
Это делается для того, чтобы пользователь добавлял запчасти в нужный склад и не путал текущий контекст



Я использую md5 hash для кодирования url запчасти. Он имеет длину в 128 бит. С этим значением можно закодировать все запчасти на планете от начала её существования. Высокая криптостойкость не требуется, т. к. данные для хеширования неконфиденциальны.


# Как должно происходить добавление запчасти:
	1. Я выбираю запчасть
	2. Отображается запчасть со списком коробок в которых она лежит
	3. Я выбираю одну из коробок в которых она уже лежит либо новую коробку из имеющихся на сервере
	4. Выбираю количество запчастей этого типа, которое хочу добавить
	5. Выбираю цену для назначения этой запчасти
	6. Нажимаю на "Сохранить"
	7. Объект addStock отправляется на сервер
	8. Из него извлекаются данные:
		8.1. Сама запчасть
		8.2. Коробка, в которую её нужно добавить
		8.3. Количество, которое нужно добавить
		8.4. Цена, которую нужно назначить каждой добавляемой запчасти
	9. Создаются объекты StockEntry в количестве quantity штук
	10. Каждый такой объект соотносится с коробкой и запчастью
	11. Возврат сохранённого в БД объекта AddStock с сохранёнными StockEntry в виде списка внутри запчасти, коробки; timestamp и другие поля
	12. Клиент выдёргивает из объекта AddStock запчасть, коробку и обновляет их в общем store
	13. Объект AddStock сохраняется в потоке истории stockOperations внутри store



# Текстологический анализ
1. Добавление новой запчасти
Из Бурятии приехала одна коробка ноутбуков. Леонид взял первый поп  авшийся ноут и понял после некоторой диа

# Основные классы
Основными сущностями являются единица хранения (запчасть) **Part** и хранилище **Storage**, в котором она находится.
Хранилище **Store** бывает нескольких видов:
1. Одна коробка (**Box**)
2. Ряд коробок (**Row**)
3. Сеть коробок (**Grid**)
4. Многомерная сеть (**Multigrid**)


Информация о коробке хранится в объекте коробки и в каждом из объектов, которые в ней находятся.

Каждую единицу хранения можно пометить для хранения только одной детали.

Список деталей, лежащих в данной коробке можно распечатать в виде QR-кодов

Ссылка ссылается на внешний сайт независимо от локальной сети


update

-----------------------------------------------------------------------
# Замечание по устройству приложения:

## Словарь
Режим (Mode) - отвечает на вопросы: "Что отображать в текущий момент?"


Локальный список запчастей -- это кэш запчастей с сервера.
Локальный список коробок при этом хранится локально полностью.
Запчасть может храниться в:
	Общий store
		partList
	Текущий режим приложения
		modePayload
	Частные случаи:
		Локальный state компонента

Также в самом начале я запрашиваю с сервера весь список запчастей -- прогреваю кэш.
В соответствии с устройством приложения, искать запчасть в указанном порядке: state, mode, store, сервер

-----------------------------------------------------------------------


